<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>workspace documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
        <link rel="stylesheet" href="../styles/stripe.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">workspace documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  MapComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>wisdom_modules/common/src/lib/map/map.component.ts</code>
</p>


    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Component for displaying maps.</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnInit</code>
                <code>AfterViewInit</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>map</code></td>
            </tr>



            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./map.component.css</code></td>
            </tr>


            <tr>
                <td class="col-md-3">template</td>
                <td class="col-md-9"><pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;map-container&quot; [style.height]&#x3D;&quot;height&quot;&gt;
  &lt;div #map class&#x3D;&quot;map&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre></td>
            </tr>









        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#center" >center</a>
                            </li>
                            <li>
                                <a href="#height" >height</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#layerConfig" >layerConfig</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#layerData" >layerData</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#layerNames" >layerNames</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#map" >map</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                    <span class="modifier">Private</span>
                                <a href="#mapElement" >mapElement</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#markers" >markers</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Optional</span>
                                <a href="#selectedGeoJsonLayer" >selectedGeoJsonLayer</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Optional</span>
                                <a href="#selectedLayer" >selectedLayer</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#selectedShapes" >selectedShapes</a>
                            </li>
                            <li>
                                <a href="#tileUrl" >tileUrl</a>
                            </li>
                            <li>
                                <a href="#zoom" >zoom</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#emitSelection" >emitSelection</a>
                            </li>
                            <li>
                                <a href="#ngAfterViewInit" >ngAfterViewInit</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#center" >center</a>
                            </li>
                            <li>
                                <a href="#height" >height</a>
                            </li>
                            <li>
                                <a href="#layers" >layers</a>
                            </li>
                            <li>
                                <a href="#layerSelectable" >layerSelectable</a>
                            </li>
                            <li>
                                <a href="#markers" >markers</a>
                            </li>
                            <li>
                                <a href="#scrollWheelZoom" >scrollWheelZoom</a>
                            </li>
                            <li>
                                <a href="#selectedColor" >selectedColor</a>
                            </li>
                            <li>
                                <a href="#tileUrl" >tileUrl</a>
                            </li>
                            <li>
                                <a href="#unselectedColor" >unselectedColor</a>
                            </li>
                            <li>
                                <a href="#zoom" >zoom</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Outputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#keyNames" >keyNames</a>
                            </li>
                            <li>
                                <a href="#selected" >selected</a>
                            </li>
                        </ul>
                    </td>
                </tr>



                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#inputLayers" >inputLayers</a>
                                </li>
                                <li>
                                    <a href="#inputMarkers" >inputMarkers</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(service: <a href="../injectables/MapService.html" target="_self">MapService</a>, translate: TranslateService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="182" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:182</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructor.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>service</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/MapService.html" target="_self" >MapService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Service to interact with the server for geo data</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>translate</td>
                                                  
                                                        <td>
                                                                    <code>TranslateService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Translation service to update resolution names</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section data-compodoc="block-inputs">
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="center"></a>
                        <b>center</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="61" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:61</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Input for the center coordinates of the map.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="height"></a>
                        <b>height</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:51</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Input for the height of the map.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="layers"></a>
                        <b>layers</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#LayerConfig" target="_self" >LayerConfig</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="125" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:125</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Input for the layers that should be displayed.</p>
<p>The key of the record is layer key and is also emitted on the selection.
The value of the record is an array and the values of that should be the
following:</p>
<ol>
  <li>
    The name of the layer, this will be only used to display a name of
    the layer (may also be a translation key).
  </li>
  <li>
    This should be the resolution to display the layer at, this may also
be
    null to display the keys directly without any shape intersection
    resolving.
  </li>
  <li>
    These should be the keys used to display the shapes from.
    If the given keys are empty or null, this will display everything from
    the give resolution.
  </li>
</ol>

<p><strong>Attention</strong>: The service needs at least one of the resolution or the
keys
to properly respond.</p>
<div><pre class="line-numbers"><code class="language-html">```html
&lt;map
  height=&quot;70vh&quot;
  [layers]=&quot;{
    full_res: [&#39;All of municipal resolution&#39;, Resolution.MUNICIPAL, null],
    only_keys: [&#39;Only show exactly these&#39;, null, [&#39;01&#39;, &#39;034030000000&#39;]],
    mixed: [&#39;Show district resolution&#39;, Resolution.DISTRICT, [&#39;01&#39;,
  &#39;034030000000&#39;]]
  }&quot;
&gt;&lt;/map&gt;</code></pre></div><p>// TODO: update link when geo data docs update
See <a href="https://wisdom04.vlba.uni-oldenburg.de/repos/service-geo-data-rest/main/api/get-layer">https://wisdom04.vlba.uni-oldenburg.de/repos/service-geo-data-rest/main/api/get-layer</a>
```</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="layerSelectable"></a>
                        <b>layerSelectable</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="147" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:147</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Should the layers be selectable.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="markers"></a>
                        <b>markers</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Marker.html" target="_self" >Marker[]</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="150" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:150</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Markers that should be displayed on the map.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="scrollWheelZoom"></a>
                        <b>scrollWheelZoom</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>boolean | &quot;center&quot;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="74" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:74</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Input for the option if the map should scroll zoom on mouse scroll.
If &quot;center&quot; is passed, the map will always zoom onto the center.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="selectedColor"></a>
                        <b>selectedColor</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;#d35a0c&quot;</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="79" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:79</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Input for a hex code selected shapes.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="tileUrl"></a>
                        <b>tileUrl</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="56" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:56</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Input for the tile url of the map.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="unselectedColor"></a>
                        <b>unselectedColor</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;#1f5aec&quot;</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="77" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:77</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Input for a hex code for unselected shapes.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="zoom"></a>
                        <b>zoom</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="66" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:66</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Input for the map zoom level.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>
    <section data-compodoc="block-outputs">
    <h3 id="outputs">Outputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="keyNames"></a>
                        <b>keyNames</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="182" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:182</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Outputs the currently rendered keys, mapped to their names.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="selected"></a>
                        <b>selected</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>EventEmitter</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="175" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:175</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Outputs the currently selected shapes.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>


    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="emitSelection"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>emitSelection</b></span>
                        <a href="#emitSelection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>emitSelection()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="386"
                            class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:386</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Internally used function to emit the currently selected shapes via the
<a href="selected">selected</a> output.</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterViewInit"></a>
                    <span class="name">
                        <span ><b>ngAfterViewInit</b></span>
                        <a href="#ngAfterViewInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterViewInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="235"
                            class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:235</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Renders the map with the given input values.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="197"
                            class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:197</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>While init this sets the input values to the inner, private values.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="center"></a>
                    <span class="name">
                        <span ><b>center</b></span>
                        <a href="#center"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;53.1434501, 8.2145521&quot;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:63</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Center of the map, defaults to longitude and latitude of Oldenburg.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="height"></a>
                    <span class="name">
                        <span ><b>height</b></span>
                        <a href="#height"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;500px&quot;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:53</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Height of map, defaults to 500px.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="layerConfig"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>layerConfig</b></span>
                        <a href="#layerConfig"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#LayerConfig" target="_self" >BehaviorSubject&lt;LayerConfig&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject({})</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="133" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:133</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p><a href="Subject">Subject</a> of the <a href="../miscellaneous/typealiases.html#LayerConfig">LayerConfig</a>, to be used as
<a href="Observable">Observable</a>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="layerData"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>layerData</b></span>
                        <a href="#layerData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/LayerData.html" target="_self" >BehaviorSubject&lt;Record&lt;LayerKey, LayerData&gt;&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject({})</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="139" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:139</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p><a href="Subject">Subject</a> of the pairs of <a href="Layerkey">Layerkey</a> and <a href="../interfaces/LayerData.html">LayerData</a>,
to be used as <a href="Observable">Observable</a>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="layerNames"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>layerNames</b></span>
                        <a href="#layerNames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#LayerKey" target="_self" >Record&lt;LayerKey | string&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{}</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="144" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:144</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p><a href="Subject">Subject</a> of the layer names mapped by the <a href="../miscellaneous/typealiases.html#LayerKey">LayerKey</a>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="map"></a>
                    <span class="name">
                            <span class="modifier">Optional</span>
                        <span ><b>map</b></span>
                        <a href="#map"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>L.Map</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="157" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:157</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The leaflet map that is displayed here.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mapElement"></a>
                    <span class="name">
                            <span class="modifier"></span>
                            <span class="modifier">Private</span>
                        <span ><b>mapElement</b></span>
                        <a href="#mapElement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ElementRef&lt;HTMLDivElement&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;map&#x27;)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:48</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The ref to the map html element.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="markers"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>markers</b></span>
                        <a href="#markers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;Marker[]&gt;([])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="154" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:154</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p><a href="../interfaces/Marker.html">Marker</a>s <a href="Subject">Subject</a> to be used as <a href="Observable">Observable</a>.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedGeoJsonLayer"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Optional</span>
                        <span ><b>selectedGeoJsonLayer</b></span>
                        <a href="#selectedGeoJsonLayer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>L.Layer</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="172" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:172</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The currently selected geo json layer.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedLayer"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Optional</span>
                        <span ><b>selectedLayer</b></span>
                        <a href="#selectedLayer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#LayerKey" target="_self" >LayerKey</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="170" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:170</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The currently selected layer in the map control.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedShapes"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>selectedShapes</b></span>
                        <a href="#selectedShapes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#LayerKey" target="_self" >Record&lt;LayerKey | Set&lt;string&gt;&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{}</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="164" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:164</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Internally holds all elements that are currently selected.</p>
<p>The set holds all keys of shapes currently selected.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tileUrl"></a>
                    <span class="name">
                        <span ><b>tileUrl</b></span>
                        <a href="#tileUrl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="58" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:58</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Tile url of the map, defaults to the osm.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="zoom"></a>
                    <span class="name">
                        <span ><b>zoom</b></span>
                        <a href="#zoom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>7</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:68</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Zoom level of the map, defaults to 7.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

    <section data-compodoc="block-accessors">
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="inputLayers"></a>
                        <span class="name"><b>inputLayers</b><a href="#inputLayers"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>


                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>set</b><code>inputLayers(layerConfig: <a href="../miscellaneouss/LayerConfig.html" target="_self">LayerConfig</a>)</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="125" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:125</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Input for the layers that should be displayed.</p>
<p>The key of the record is layer key and is also emitted on the selection.
The value of the record is an array and the values of that should be the
following:</p>
<ol>
  <li>
    The name of the layer, this will be only used to display a name of
    the layer (may also be a translation key).
  </li>
  <li>
    This should be the resolution to display the layer at, this may also
be
    null to display the keys directly without any shape intersection
    resolving.
  </li>
  <li>
    These should be the keys used to display the shapes from.
    If the given keys are empty or null, this will display everything from
    the give resolution.
  </li>
</ol>

<p><strong>Attention</strong>: The service needs at least one of the resolution or the
keys
to properly respond.</p>
<div><pre class="line-numbers"><code class="language-html">```html
&lt;map
  height=&quot;70vh&quot;
  [layers]=&quot;{
    full_res: [&#39;All of municipal resolution&#39;, Resolution.MUNICIPAL, null],
    only_keys: [&#39;Only show exactly these&#39;, null, [&#39;01&#39;, &#39;034030000000&#39;]],
    mixed: [&#39;Show district resolution&#39;, Resolution.DISTRICT, [&#39;01&#39;,
  &#39;034030000000&#39;]]
  }&quot;
&gt;&lt;/map&gt;</code></pre></div><p>// TODO: update link when geo data docs update
See <a href="https://wisdom04.vlba.uni-oldenburg.de/repos/service-geo-data-rest/main/api/get-layer">https://wisdom04.vlba.uni-oldenburg.de/repos/service-geo-data-rest/main/api/get-layer</a>
```</p>
</div>

                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <table class="params">
                                            <thead>
                                                <tr>
                                                    <td>Name</td>
                                                        <td>Type</td>
                                                    <td>Optional</td>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                    <tr>
                                                            <td>layerConfig</td>
                                                    
                                                            <td>
                                                                            <code><a href="../miscellaneous/typealiases.html#LayerConfig" target="_self" >LayerConfig</a></code>
                                                            </td>
                                                    
                                                        <td>
                                                                No
                                                        </td>
                                                        
                                                    </tr>
                                            </tbody>
                                        </table>
                                </div>
                                <div>
                                        <b>Example :</b>
                                            <div>
                                                <pre class="line-numbers"><code class="language-html">&lt;div&gt;&lt;pre class=&quot;line-numbers&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;map
  height=&amp;quot;70vh&amp;quot;
  [layers]=&amp;quot;{
    full_res: [&amp;#39;All of municipal resolution&amp;#39;, Resolution.MUNICIPAL, null],
    only_keys: [&amp;#39;Only show exactly these&amp;#39;, null, [&amp;#39;01&amp;#39;, &amp;#39;034030000000&amp;#39;]],
    mixed: [&amp;#39;Show district resolution&amp;#39;, Resolution.DISTRICT, [&amp;#39;01&amp;#39;,
  &amp;#39;034030000000&amp;#39;]]
  }&amp;quot;
&amp;gt;&amp;lt;/map&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;// TODO: update link when geo data docs update</code></pre>
                                            </div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                                </div>
                        </td>
                    </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="inputMarkers"></a>
                        <span class="name"><b>inputMarkers</b><a href="#inputMarkers"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>


                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>set</b><code>inputMarkers(markers: <a href="../interfaces/Marker.html" target="_self">Marker[]</a>)</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="150" class="link-to-prism">wisdom_modules/common/src/lib/map/map.component.ts:150</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Markers that should be displayed on the map.</p>
</div>

                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <table class="params">
                                            <thead>
                                                <tr>
                                                    <td>Name</td>
                                                        <td>Type</td>
                                                    <td>Optional</td>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                    <tr>
                                                            <td>markers</td>
                                                    
                                                            <td>
                                                                            <code><a href="../interfaces/Marker.html" target="_self" >Marker[]</a></code>
                                                            </td>
                                                    
                                                        <td>
                                                                No
                                                        </td>
                                                        
                                                    </tr>
                                            </tbody>
                                        </table>
                                </div>
                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                                </div>
                        </td>
                    </tr>
            </tbody>
        </table>
</section>
</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  ViewChild,
  Component,
  EventEmitter,
  OnInit,
  AfterViewInit,
  Input,
  Output,
  ElementRef
} from &quot;@angular/core&quot;;
import {TranslateService} from &quot;@ngx-translate/core&quot;;
import {firstValueFrom, BehaviorSubject, Subject} from &quot;rxjs&quot;;

import * as L from &quot;leaflet&quot;;

import {MapService} from &quot;./map.service&quot;;
import LayerData from &quot;./layer-data&quot;;
import {Resolution} from &quot;./resolution&quot;;
import {Marker} from &quot;./marker&quot;;

import * as LX from &quot;./invert-selection&quot;;

import &quot;leaflet.markercluster&quot;;

/** Type alias to enforce the meaning of the layer keys. */
type LayerKey &#x3D; string;

/** A layer config for the input of {@link MapComponent.inputLayers}. */
type LayerConfig &#x3D; Record&lt;LayerKey, [string, Resolution | null, string | string[] | null]&gt;;

/**
 * Component for displaying maps.
 */
@Component({
  selector: &quot;map&quot;,
  template: &#x60;
    &lt;div class&#x3D;&quot;map-container&quot; [style.height]&#x3D;&quot;height&quot;&gt;
      &lt;div #map class&#x3D;&quot;map&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
  &#x60;,
  styleUrls: [
    &quot;./map.component.css&quot;
  ]
})
export class MapComponent implements OnInit, AfterViewInit {

  /** The ref to the map html element. */
  @ViewChild(&quot;map&quot;) private mapElement!: ElementRef&lt;HTMLDivElement&gt;;

  /** Input for the height of the map. */
  @Input(&quot;height&quot;) inputHeight?: string;
  /** Height of map, defaults to 500px. */
  height &#x3D; &quot;500px&quot;;

  /** Input for the tile url of the map. */
  @Input(&quot;tileUrl&quot;) inputTileUrl?: string;
  /** Tile url of the map, defaults to the osm. */
  tileUrl &#x3D; &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;;

  /** Input for the center coordinates of the map. */
  @Input(&quot;center&quot;) inputCenter?: string;
  /** Center of the map, defaults to longitude and latitude of Oldenburg. */
  center &#x3D; &quot;53.1434501, 8.2145521&quot;;

  /** Input for the map zoom level. */
  @Input(&quot;zoom&quot;) inputZoom?: string;
  /** Zoom level of the map, defaults to 7. */
  zoom &#x3D; 7;

  /**
   * Input for the option if the map should scroll zoom on mouse scroll.
   * If &quot;center&quot; is passed, the map will always zoom onto the center.
   */
  @Input(&quot;scrollWheelZoom&quot;) inputScrollWheelZoom: boolean | &quot;center&quot; &#x3D; true;

  /** Input for a hex code for unselected shapes. */
  @Input(&quot;unselectedColor&quot;) unselectedColor &#x3D; &quot;#1f5aec&quot;;
  /** Input for a hex code selected shapes. */
  @Input(&quot;selectedColor&quot;) selectedColor &#x3D; &quot;#d35a0c&quot;;

  /**
   * Input for the layers that should be displayed.
   *
   * The key of the record is layer key and is also emitted on the selection.
   * The value of the record is an array and the values of that should be the
   * following:
   * &lt;ol&gt;
   *   &lt;li&gt;
   *     The name of the layer, this will be only used to display a name of
   *     the layer (may also be a translation key).
   *   &lt;/li&gt;
   *   &lt;li&gt;
   *     This should be the resolution to display the layer at, this may also
   * be
   *     null to display the keys directly without any shape intersection
   *     resolving.
   *   &lt;/li&gt;
   *   &lt;li&gt;
   *     These should be the keys used to display the shapes from.
   *     If the given keys are empty or null, this will display everything from
   *     the give resolution.
   *   &lt;/li&gt;
   * &lt;/ol&gt;
   *
   * **Attention**: The service needs at least one of the resolution or the
   * keys
   * to properly respond.
   *
   * @example
   * &#x60;&#x60;&#x60;html
   * &lt;map
   *   height&#x3D;&quot;70vh&quot;
   *   [layers]&#x3D;&quot;{
   *     full_res: [&#x27;All of municipal resolution&#x27;, Resolution.MUNICIPAL, null],
   *     only_keys: [&#x27;Only show exactly these&#x27;, null, [&#x27;01&#x27;, &#x27;034030000000&#x27;]],
   *     mixed: [&#x27;Show district resolution&#x27;, Resolution.DISTRICT, [&#x27;01&#x27;,
   *   &#x27;034030000000&#x27;]]
   *   }&quot;
   * &gt;&lt;/map&gt;
   * &#x60;&#x60;&#x60;
   * // TODO: update link when geo data docs update
   * @see https://wisdom04.vlba.uni-oldenburg.de/repos/service-geo-data-rest/main/api/get-layer
   */
  @Input(&quot;layers&quot;)
  set inputLayers(layerConfig: LayerConfig) {
    this.layerConfig.next(layerConfig);
  };
  /**
   * {@link Subject} of the {@link LayerConfig}, to be used as
   * {@link Observable}.
   * @private
   */
  private layerConfig: BehaviorSubject&lt;LayerConfig&gt; &#x3D; new BehaviorSubject({});
  /**
   * {@link Subject} of the pairs of {@link Layerkey} and {@link LayerData},
   * to be used as {@link Observable}.
   * @private
   */
  private layerData: BehaviorSubject&lt;Record&lt;LayerKey, LayerData&gt;&gt; &#x3D; new BehaviorSubject({});
  /**
   * {@link Subject} of the layer names mapped by the {@link LayerKey}.
   * @private
   */
  private layerNames: Record&lt;LayerKey, string&gt; &#x3D; {};

  /** Should the layers be selectable. */
  @Input(&quot;layerSelectable&quot;) inputLayerSelectable: boolean &#x3D; true;

  /** Markers that should be displayed on the map. */
  @Input(&quot;markers&quot;) set inputMarkers(markers: Marker[]) {
    this.markers.next(markers);
  };
  /** {@link Marker}s {@link Subject} to be used as {@link Observable}. */
  private markers &#x3D; new BehaviorSubject&lt;Marker[]&gt;([]);

  /** The leaflet map that is displayed here. */
  map?: L.Map;

  /**
   * Internally holds all elements that are currently selected.
   *
   * The set holds all keys of shapes currently selected.
   */
  private selectedShapes: Record&lt;LayerKey, Set&lt;string&gt;&gt; &#x3D; {};

  /**
   * The currently selected layer in the map control.
   * @private
   */
  private selectedLayer?: LayerKey;
  /** The currently selected geo json layer. */
  private selectedGeoJsonLayer?: L.Layer;

  /** Outputs the currently selected shapes. */
  @Output() selected &#x3D; new EventEmitter&lt;{
    layer: LayerKey,
    name: string,
    keys: string[],
  }&gt;();

  /** Outputs the currently rendered keys, mapped to their names. */
  @Output() keyNames &#x3D; new EventEmitter&lt;Record&lt;string, string&gt;&gt;();

  /**
   * Constructor.
   * @param service Service to interact with the server for geo data
   * @param translate Translation service to update resolution names
   */
  constructor(
    private service: MapService,
    private translate: TranslateService
  ) {}

  /**
   * While init this sets the input values to the inner, private values.
   */
  ngOnInit(): void {
    if (this.inputHeight) this.height &#x3D; this.inputHeight;
    if (this.inputTileUrl) this.tileUrl &#x3D; this.inputTileUrl;
    if (this.inputCenter) this.center &#x3D; this.inputCenter;
    if (this.inputZoom) this.zoom &#x3D; parseInt(this.inputZoom);

    this.layerConfig.subscribe(async config &#x3D;&gt; {
      let layerData &#x3D; {};
      let requests: Record&lt;LayerKey, Promise&lt;LayerData&gt;&gt; &#x3D; {};
      for (
        let [layerKey, [displayName, resolution, keys]]
        of Object.entries(config)
      ) {
        this.layerNames[layerKey] &#x3D; displayName;
        requests[layerKey] &#x3D; this.service.fetchLayerData(
          resolution,
          keys ? [keys].flat().map(k &#x3D;&gt; k.split(&quot; &quot;).join(&quot;&quot;)) : null
        );
      }
      let fetched: Record&lt;LayerKey, LayerData&gt; &#x3D; {};
      for (let [layerKey, data] of Object.entries(requests)) {
        fetched[layerKey] &#x3D; await data;
      }
      this.layerData.next(fetched);

      let keyNames &#x3D; new Map();
      for (let entry of Object.values(fetched)) {
        for (let {name, key} of entry.shapes) {
          keyNames.set(key, name);
        }
      }
      this.keyNames.next(Object.fromEntries(keyNames));
    });
  }

  /**
   * Renders the map with the given input values.
   */
  ngAfterViewInit(): void {
    const nativeMapElement &#x3D; this.mapElement.nativeElement;

    const map &#x3D; L.map(nativeMapElement, {
      scrollWheelZoom: this.inputScrollWheelZoom,
      center: this.center
        .split(&quot;, &quot;)
        .map(str &#x3D;&gt; parseFloat(str)) as [number, number],
      zoom: this.zoom
    });
    map.getRenderer(map as any).options.padding &#x3D; 100;

    L.tileLayer(this.tileUrl).addTo(map);

    this.map &#x3D; map;
    let layersControl: L.Control.Layers;
    // TODO: make a clear type from this
    let invertSelectionControl: any;

    this.layerData.subscribe(async layerData &#x3D;&gt; {
      let displayLayer &#x3D; true;

      // reset selected data
      this.selectedShapes &#x3D; {};

      if (layersControl) map.removeControl(layersControl);
      layersControl &#x3D; L.control.layers();
      // layer index to allow sorting by it
      // this allows updating the names without having to worry about layer
      // shuffling
      let layerIndex &#x3D; 0;
      layersControl.options.sortLayers &#x3D; true;
      layersControl.options.sortFunction &#x3D; (layerA, layerB) &#x3D;&gt; {
        // @ts-ignore these orders are injected here to allow fixed ordering
        return layerA.options.order - layerB.options.order;
      }
      let layers: L.Layer[] &#x3D; [];

      if (this.selectedGeoJsonLayer) map.removeLayer(this.selectedGeoJsonLayer);

      // update map with new layer data
      for (let [key, data] of Object.entries(layerData)) {
        let selectedShapes &#x3D; this.selectedShapes[key] &#x3D; new Set();
        // use for every layer a new geoJSON layer
        let geoJsonLayer &#x3D; L.geoJSON(undefined, {
          // @ts-ignore insert order here to allow fixed ordering when updating
          // translation
          order: layerIndex++,
          attribution: &#x60;
            &lt;a target&#x3D;&quot;_blank&quot; href&#x3D;&#x27;https://gdz.bkg.bund.de/index.php/default/open-data/verwaltungsgebiete-1-5-000-000-ebenen-stand-01-01-vg5000-ebenen-01-01.html&#x27;&gt;
                GeoBasis-DE / BKG 2022
            &lt;/a&gt;
            |
            &lt;a target&#x3D;&quot;_blank&quot; href&#x3D;&quot;http://www.govdata.de/dl-de/by-2-0&quot;&gt;
               dl-de/by-2-0
            &lt;/a&gt;
          &#x60;,
          style: {color: this.unselectedColor},
          onEachFeature: (feature, layer) &#x3D;&gt; {
            // used properties are injected later into the feature
            layer.bindTooltip(feature.properties.name, {direction: &quot;center&quot;});
            if (this.inputLayerSelectable) {
              layer.on(&quot;click&quot;, () &#x3D;&gt; {
                let [key, path] &#x3D; [feature.properties.key, layer as L.Path];
                if (selectedShapes.has(key)) {
                  path.setStyle({color: this.unselectedColor});
                  path.bringToBack();
                  selectedShapes.delete(key);
                }
                else {
                  path.setStyle({color: this.selectedColor});
                  path.bringToFront();
                  selectedShapes.add(key);
                }
                this.emitSelection();
              });
            }
            layers.push(layer);
          }
        });
        for (let shape of data.shapes) {
          geoJsonLayer.addData(Object.assign(shape.geoJson, {properties: {
            name: shape.name,
            key: shape.key
          }}));
          if (displayLayer) {
            geoJsonLayer.addTo(map);
            displayLayer &#x3D; false;
            this.selectedLayer &#x3D; key;
            this.selectedGeoJsonLayer &#x3D; geoJsonLayer;
            map.fitBounds([
              data.box[0],
              data.box[2]
            ]);
          }
        }
        this.translate.onLangChange.subscribe(() &#x3D;&gt; {
          layersControl.removeLayer(geoJsonLayer);
          layersControl.addBaseLayer(
            geoJsonLayer,
            this.translate.instant(this.layerNames[key])
          );
        });
        let layerName: string;
        if (this.layerNames[key].length) {
          layerName &#x3D; await firstValueFrom(
            this.translate.get(this.layerNames[key])
          );
        } else layerName &#x3D; &quot;layer&quot;;
        layersControl.addBaseLayer(geoJsonLayer, layerName);
        map.on(&quot;baselayerchange&quot;, ({layer}) &#x3D;&gt; {
          if (layer &#x3D;&#x3D; geoJsonLayer) {
            this.selectedGeoJsonLayer &#x3D; layer;
            this.selectedLayer &#x3D; key;
            this.emitSelection();
          }
        })
      }
      if (Object.keys(layerData).length &gt; 1) layersControl.addTo(map);

      if (this.inputLayerSelectable) {
        if (invertSelectionControl) map.removeControl(invertSelectionControl);
        invertSelectionControl &#x3D; LX.control.invertSelection(() &#x3D;&gt; {
          for (let layer of layers) {
            layer.fire(&quot;click&quot;);
          }
        });
        invertSelectionControl.addTo(map);
      }
    });

    let markerLayer &#x3D; L.markerClusterGroup();
    this.markers.subscribe(markers &#x3D;&gt; {
      markerLayer.removeFrom(map);
      markerLayer &#x3D; L.markerClusterGroup();
      for (let marker of markers) {
        let lMarker &#x3D; L.marker(marker.coordinates);
        if (marker.icon) lMarker.setIcon(marker.icon);
        if (marker.tooltip) lMarker.bindTooltip(marker.tooltip);
        if (marker.onClick) lMarker.on(&quot;click&quot;, marker.onClick)
        lMarker.addTo(markerLayer);
      }
      markerLayer.addTo(map);
    });
  }

  /**
   * Internally used function to emit the currently selected shapes via the
   * {@link selected} output.
   * @private
   */
  private emitSelection(): void {
    let layerKey &#x3D; this.selectedLayer!;
    let layerName &#x3D; this.layerNames[layerKey]!;
    let keys &#x3D; Array.from(this.selectedShapes[layerKey]);
    this.selected.emit({
      layer: layerKey,
      name: layerName,
      keys
    });
  }
}
</code></pre>
    </div>


    <div class="tab-pane fade " id="styleData">
                <p class="comment">
                    <code>./map.component.css</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.map-container {}

.map {
  z-index: 10;
  height: 100%;
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="map-container" [style.height]="height">  <div #map class="map"></div></div></div>'
    var COMPONENTS = [{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BeWaterSmartComponent', 'selector': 'lib-be-water-smart'},{'name': 'BreadcrumbsComponent', 'selector': 'breadcrumbs'},{'name': 'CallbackComponent', 'selector': 'app-callback'},{'name': 'ConsumerDetailComponent', 'selector': 'lib-consumer-detail'},{'name': 'DragDropComponent', 'selector': 'drag-drop'},{'name': 'ErrorCurtainComponent', 'selector': 'app-error-curtain'},{'name': 'ErrorToastComponent', 'selector': 'app-error-toast'},{'name': 'ExampleComponent', 'selector': ''},{'name': 'FrameComponent', 'selector': 'app-frame'},{'name': 'IfcComponent', 'selector': 'ifc'},{'name': 'IonIconComponent', 'selector': 'ion-icon'},{'name': 'LoaderComponent', 'selector': 'app-loader'},{'name': 'MapComponent', 'selector': 'map'},{'name': 'MapSelectViewComponent', 'selector': 'lib-map-select-view'},{'name': 'ProphetForecastResultDataComponent', 'selector': 'lib-prophet-forecast-result-data'},{'name': 'PumpModelComponent', 'selector': ''},{'name': 'ResultDataComponent', 'selector': '[lib-result-data]'},{'name': 'ResultDataViewComponent', 'selector': 'lib-result-data-view'},{'name': 'SideBarComponent', 'selector': 'app-side-bar'},{'name': 'UserPopoutComponent', 'selector': 'app-user-popout'},{'name': 'WaterRightDetailComponent', 'selector': 'lib-water-right-detail'},{'name': 'WaterUsageForecastsResultDataComponent', 'selector': 'lib-water-usage-forecasts-result-data'}];
    var DIRECTIVES = [{'name': 'BulmaCalendarDirective', 'selector': '[type&#x3D;&quot;date&quot;]'},{'name': 'BulmaIsToggleableDirective', 'selector': '.is-toggleable'},{'name': 'DragDropDirective', 'selector': '[dragDropDirective]'},{'name': 'LangSelectorDirective', 'selector': '[selectLang]'}];
    var ACTUAL_COMPONENT = {'name': 'MapComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'MapComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
